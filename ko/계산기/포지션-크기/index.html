<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>eToro 포지션 크기 계산기 — 사본 거래자당 할당할 금액</title>
<meta name="description" content="무료 사본 거래 포지션 규모 계산기. 포트폴리오 규모, 위험 허용 범위 및 다각화 목표를 기반으로 eToro에 트레이더당 투자할 금액을 알아보세요. |분할| 카피 트레이딩 포지션 크기, 트레이더당 투자할 금액 etoro, eToro 카피 트레이딩 할당, 포지션 사이징 카피 트레이딩, eToro 포트폴리오 할당">
<meta name="keywords" content="eToro 포지션 크기 계산기 — 사본 거래자당 할당할 금액">
<link rel="canonical" href="https://socialtradingvlog.com/ko/계산기/포지션-크기/">
<link rel="alternate" hreflang="en" href="https://socialtradingvlog.com/calculators/position-size/">
<link rel="alternate" hreflang="ko" href="https://socialtradingvlog.com/ko/계산기/포지션-크기/">
<meta property="og:title" content="무료 사본 거래 포지션 규모 계산기. eToro에서 거래자당 투자할 금액을 알아보세요.">
<meta property="og:description" content="무료 사본 거래 포지션 규모 계산기. eToro에서 거래자당 투자할 금액을 알아보세요.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://socialtradingvlog.com/ko/계산기/포지션-크기/">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Plus+Jakarta+Sans:wght@500;600;700;800&display=swap" rel="stylesheet">
<!-- GA -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PBGDJ951LL"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-PBGDJ951LL');</script>
<style>
:root {
  --bg-page: #F4F5F9; --bg-card: #FFFFFF; --bg-input: #FFFFFF;
  --border: #E0E1E9; --border-input: #C4C7CF;
  --text-primary: #191B23; --text-secondary: #6C6E79; --text-muted: #8A8E9B;
  --brand: #FF642D; --brand-hover: #C33909;
  --info: #008FF8; --info-light: #D0EEFF;
  --success: #009F81; --success-light: #CFF1EA;
  --warning: #FDC23C; --warning-light: #FEF3D0;
  --critical: #FF4953; --critical-light: #FFCEDC;
  --purple: #8B5CF6; --purple-light: #EDE9FE;
  --chart-1: #2BB3FF; --chart-2: #59DDAA; --chart-3: #FF642D; --chart-4: #8B5CF6;
  --shadow: 0 0 1px rgba(25,27,35,.16), 0 1px 2px rgba(25,27,35,.12);
  --shadow-hover: 0 4px 20px rgba(25,27,35,.12);
  --radius: 8px; --radius-lg: 16px; --radius-pill: 24px;
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; background: var(--bg-page); color: var(--text-primary); font-size: 15px; line-height: 1.6; -webkit-font-smoothing: antialiased; }
h1, h2, h3, h4 { font-family: 'Plus Jakarta Sans', 'Inter', sans-serif; }

/* ─── Tool Nav ─── */
.tool-nav { background: #382E5E; padding: 0 24px; display: flex; align-items: center; gap: 32px; height: 48px; position: sticky; top: 0; z-index: 100; }
.tool-nav-brand { display: flex; align-items: center; gap: 10px; text-decoration: none; }
.tool-nav-brand .logo { width: 28px; height: 28px; background: var(--brand); border-radius: 6px; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 13px; color: #fff; }
.tool-nav-brand span { font-size: 14px; font-weight: 600; color: #fff; }
.tool-nav-links { display: flex; gap: 0; height: 100%; }
.tool-nav-links a { padding: 0 16px; height: 100%; display: flex; align-items: center; font-size: 13px; font-weight: 500; color: rgba(255,255,255,.6); text-decoration: none; border-bottom: 2px solid transparent; transition: all .2s; }
.tool-nav-links a:hover { color: rgba(255,255,255,.85); }
.tool-nav-links a.active { color: #fff; border-bottom-color: #fff; }
.tool-nav-back { margin-left: auto; font-size: 13px; color: rgba(255,255,255,.5); text-decoration: none; transition: color .2s; }
.tool-nav-back:hover { color: #fff; }

/* ─── Container ─── */
.container { max-width: 960px; margin: 0 auto; padding: 0 24px; }

/* ─── Hero ─── */
.hero { padding: 48px 0 40px; text-align: center; }
.hero-badge { display: inline-flex; align-items: center; gap: 6px; padding: 5px 14px; background: var(--info-light); color: var(--info); border-radius: var(--radius-pill); font-size: 12px; font-weight: 600; margin-bottom: 16px; }
.hero h1 { font-size: clamp(1.75rem, 4vw, 2.5rem); font-weight: 800; color: var(--text-primary); line-height: 1.15; margin-bottom: 12px; }
.hero h1 .accent { color: var(--info); }
.hero p { font-size: 16px; color: var(--text-secondary); max-width: 560px; margin: 0 auto; line-height: 1.65; }

/* ─── Calculator Card ─── */
.calc-card { background: var(--bg-card); border-radius: var(--radius-lg); box-shadow: var(--shadow); padding: 32px; margin-bottom: 32px; }
.calc-card:hover { box-shadow: var(--shadow-hover); }

/* ─── Input Groups ─── */
.input-section { margin-bottom: 28px; }
.input-label { font-size: 13px; font-weight: 700; color: var(--text-secondary); text-transform: uppercase; letter-spacing: .5px; margin-bottom: 10px; }
.pill-group { display: flex; flex-wrap: wrap; gap: 8px; }
.pill-btn {
  padding: 8px 18px; border-radius: var(--radius-pill); font-size: 13px; font-weight: 600;
  cursor: pointer; border: 1.5px solid var(--border); background: var(--bg-card);
  color: var(--text-secondary); transition: all .2s; font-family: 'Inter', sans-serif;
}
.pill-btn:hover { border-color: var(--info); color: var(--text-primary); }
.pill-btn.active { background: var(--info); border-color: var(--info); color: #fff; }
.pill-btn.active.conservative { background: var(--success); border-color: var(--success); }
.pill-btn.active.moderate { background: var(--chart-1); border-color: var(--chart-1); }
.pill-btn.active.aggressive { background: var(--chart-3); border-color: var(--chart-3); }

/* Slider */
.slider-row { display: flex; align-items: center; gap: 16px; }
.slider-input {
  flex: 1; -webkit-appearance: none; appearance: none;
  height: 6px; border-radius: 3px; background: var(--border);
  outline: none; transition: background .2s;
}
.slider-input::-webkit-slider-thumb {
  -webkit-appearance: none; width: 22px; height: 22px; border-radius: 50%;
  background: var(--info); cursor: pointer; box-shadow: 0 2px 6px rgba(0,143,248,.35);
  transition: transform .15s;
}
.slider-input::-webkit-slider-thumb:hover { transform: scale(1.15); }
.amount-input {
  width: 130px; padding: 10px 14px; border: 1.5px solid var(--border-input); border-radius: var(--radius);
  font-size: 16px; font-weight: 600; font-family: 'Plus Jakarta Sans', sans-serif;
  color: var(--text-primary); background: var(--bg-input); text-align: right;
  transition: border-color .2s, box-shadow .2s;
}
.amount-input:focus { outline: none; border-color: var(--info); box-shadow: 0 0 0 3px rgba(0,143,248,.15); }
.trader-count-display {
  min-width: 48px; padding: 10px 14px; border: 1.5px solid var(--border-input); border-radius: var(--radius);
  font-size: 16px; font-weight: 600; font-family: 'Plus Jakarta Sans', sans-serif;
  color: var(--text-primary); background: var(--bg-input); text-align: center;
}

/* ─── Results ─── */
.results { padding: 32px 0 16px; }
.results-hero { text-align: center; margin-bottom: 32px; }
.results-hero .total-label { font-size: 14px; color: var(--text-secondary); font-weight: 500; margin-bottom: 4px; }
.results-hero .total-value {
  font-size: clamp(2.5rem, 6vw, 3.5rem); font-weight: 800; color: var(--text-primary);
  font-family: 'Plus Jakarta Sans', sans-serif; line-height: 1.1; transition: color .3s;
}
.results-hero .total-pct {
  display: inline-flex; padding: 4px 12px; border-radius: var(--radius-pill);
  font-size: 14px; font-weight: 600; margin-top: 8px;
}
.results-hero .total-pct.low { background: var(--success-light); color: var(--success); }
.results-hero .total-pct.medium { background: var(--warning-light); color: #B8860B; }
.results-hero .total-pct.high { background: var(--critical-light); color: var(--critical); }

/* Breakdown cards */
.breakdown-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px; margin-bottom: 28px; }
.breakdown-card {
  border-radius: var(--radius); padding: 18px; text-align: center;
  transition: transform .2s;
}
.breakdown-card:hover { transform: translateY(-2px); }
.breakdown-card .bc-label { font-size: 12px; font-weight: 600; opacity: .8; margin-bottom: 4px; }
.breakdown-card .bc-value { font-size: 22px; font-weight: 700; font-family: 'Plus Jakarta Sans', sans-serif; }
.breakdown-card .bc-note { font-size: 11px; opacity: .6; margin-top: 2px; }
.bc-cash { background: rgba(43,179,255,.1); color: #0077CC; }
.bc-per-trader { background: rgba(89,221,170,.1); color: #007A5E; }
.bc-traders { background: rgba(139,92,246,.1); color: #7C3AED; }
.bc-score { background: rgba(255,100,45,.1); color: #C33909; }

/* Allocation bar chart */
.bar-chart-wrap { margin-bottom: 24px; }
.bar-chart-title { font-size: 13px; font-weight: 700; color: var(--text-secondary); text-transform: uppercase; letter-spacing: .5px; margin-bottom: 12px; }
.bar-chart { display: flex; flex-direction: column; gap: 6px; }
.bar-row { display: flex; align-items: center; gap: 10px; }
.bar-label { width: 70px; font-size: 12px; font-weight: 600; color: var(--text-secondary); text-align: right; flex-shrink: 0; }
.bar-track { flex: 1; height: 28px; background: var(--bg-page); border-radius: 14px; overflow: hidden; position: relative; }
.bar-fill { height: 100%; border-radius: 14px; display: flex; align-items: center; padding: 0 12px; font-size: 11px; font-weight: 700; color: #fff; min-width: 0; transition: width .5s ease; }
.bar-amount { font-size: 12px; font-weight: 600; color: var(--text-secondary); width: 65px; text-align: left; flex-shrink: 0; }
.bar-cash .bar-fill { background: #8A8E9B; }

/* Warning card */
.warning-card {
  background: var(--critical-light); border: 1px solid rgba(255,73,83,.2);
  border-radius: var(--radius); padding: 16px 20px; margin-bottom: 24px;
  display: flex; align-items: flex-start; gap: 12px;
  font-size: 14px; color: #B91C2A; line-height: 1.6;
}
.warning-card.hidden { display: none; }
.warning-icon { font-size: 18px; flex-shrink: 0; margin-top: 1px; }

/* Diversification score */
.score-meter { margin-bottom: 24px; }
.score-meter-bar { height: 8px; background: var(--border); border-radius: 4px; overflow: hidden; margin-top: 8px; }
.score-meter-fill { height: 100%; border-radius: 4px; transition: width .5s ease, background .3s; }

/* Context callout */
.callout {
  background: linear-gradient(135deg, #F0F8FF 0%, #F5F0FF 100%);
  border: 1px solid #E8E0F0;
  border-radius: var(--radius); padding: 18px 22px; margin: 24px 0;
  font-size: 14px; color: var(--text-primary); line-height: 1.6;
  display: flex; align-items: flex-start; gap: 12px;
}
.callout-icon { font-size: 20px; flex-shrink: 0; margin-top: 1px; }

/* ─── Explainer Section ─── */
.explainer { padding: 40px 0; }
.explainer h2 { font-size: 22px; font-weight: 700; margin-bottom: 20px; text-align: center; }
.explainer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 16px; margin-bottom: 32px; }
.explainer-card {
  background: var(--bg-card); border-radius: var(--radius-lg); padding: 24px;
  box-shadow: var(--shadow); transition: box-shadow .2s, transform .2s;
}
.explainer-card:hover { box-shadow: var(--shadow-hover); transform: translateY(-2px); }
.explainer-card .ec-icon {
  width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center;
  justify-content: center; font-size: 22px; margin-bottom: 14px;
}
.explainer-card h3 { font-size: 16px; font-weight: 700; margin-bottom: 8px; }
.explainer-card p { font-size: 14px; color: var(--text-secondary); line-height: 1.65; }

/* ─── Guide Link ─── */
.guide-link-section { margin-bottom: 32px; }
.guide-link-card {
  display: flex; align-items: center; gap: 16px;
  background: var(--bg-card); border-radius: var(--radius-lg); padding: 20px 24px;
  box-shadow: var(--shadow); transition: box-shadow .2s, transform .2s;
  text-decoration: none; color: var(--text-primary);
}
.guide-link-card:hover { box-shadow: var(--shadow-hover); transform: translateY(-2px); }
.guide-link-icon {
  width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center;
  justify-content: center; font-size: 22px; flex-shrink: 0;
  background: rgba(0,143,248,.1); color: var(--info);
}
.guide-link-text h3 { font-size: 16px; font-weight: 700; margin-bottom: 2px; }
.guide-link-text p { font-size: 14px; color: var(--text-secondary); }
.guide-link-arrow { margin-left: auto; font-size: 20px; color: var(--info); flex-shrink: 0; }

/* ─── FAQ ─── */
.faq-section { padding: 32px 0; }
.faq-section h2 { font-size: 22px; font-weight: 700; margin-bottom: 20px; text-align: center; }
.faq-item { background: var(--bg-card); border-radius: var(--radius); margin-bottom: 8px; box-shadow: var(--shadow); overflow: hidden; }
.faq-q { padding: 16px 20px; font-size: 15px; font-weight: 600; cursor: pointer; display: flex; justify-content: space-between; align-items: center; transition: background .15s; }
.faq-q:hover { background: rgba(0,143,248,.03); }
.faq-q .chevron { font-size: 12px; color: var(--text-muted); transition: transform .3s; }
.faq-q.open .chevron { transform: rotate(180deg); }
.faq-a { max-height: 0; overflow: hidden; transition: max-height .4s ease; padding: 0 20px; }
.faq-a.open { max-height: 300px; padding: 0 20px 16px; }
.faq-a p { font-size: 14px; color: var(--text-secondary); line-height: 1.7; }

/* ─── CTA ─── */
.cta-section {
  background: linear-gradient(135deg, #382E5E 0%, #1a1640 100%);
  border-radius: var(--radius-lg); padding: 40px; text-align: center; margin: 32px 0;
  color: #fff;
}
.cta-section h2 { font-size: 24px; font-weight: 800; margin-bottom: 8px; }
.cta-section p { font-size: 14px; color: rgba(255,255,255,.65); margin-bottom: 20px; max-width: 480px; margin-left: auto; margin-right: auto; }
.cta-btn {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 14px 32px; border-radius: var(--radius-pill); font-size: 16px; font-weight: 700;
  background: var(--brand); color: #fff; text-decoration: none; border: none; cursor: pointer;
  transition: background .2s, transform .15s; font-family: 'Plus Jakarta Sans', sans-serif;
}
.cta-btn:hover { background: var(--brand-hover); transform: translateY(-1px); }
.risk-text { font-size: 11px; color: rgba(255,255,255,.4); margin-top: 14px; max-width: 500px; margin-left: auto; margin-right: auto; line-height: 1.5; }

/* ─── Footer ─── */
.tool-footer { padding: 32px 0; text-align: center; border-top: 1px solid var(--border); margin-top: 32px; }
.tool-footer p { font-size: 12px; color: var(--text-muted); line-height: 1.7; }
.tool-footer a { color: var(--info); text-decoration: none; }
.tool-footer a:hover { text-decoration: underline; }

/* ─── Responsive ─── */
@media (max-width: 768px) {
  .tool-nav { padding: 0 16px; gap: 16px; overflow-x: auto; }
  .tool-nav-links { flex-shrink: 0; }
  .tool-nav-links a { padding: 0 10px; font-size: 12px; white-space: nowrap; }
  .container { padding: 0 16px; }
  .hero { padding: 32px 0 28px; }
  .calc-card { padding: 20px; }
  .pill-group { gap: 6px; }
  .pill-btn { padding: 7px 14px; font-size: 12px; }
  .slider-row { flex-wrap: wrap; }
  .amount-input { width: 100%; }
  .breakdown-grid { grid-template-columns: 1fr 1fr; }
  .explainer-grid { grid-template-columns: 1fr; }
  .cta-section { padding: 28px 20px; }
  .bar-label { width: 55px; font-size: 11px; }
  .bar-amount { width: 55px; font-size: 11px; }
  .guide-link-card { flex-wrap: wrap; }
}
@media (max-width: 480px) {
  .breakdown-grid { grid-template-columns: 1fr; }
  .pill-btn { padding: 6px 12px; font-size: 11px; }
}
</style>

<!-- Schema: WebApplication + FAQPage -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "eToro 위치 크기 계산기",
  "description": "포트폴리오 크기, 위험 허용 범위 및 다각화 목표를 기반으로 eToro에서 거래자당 할당할 금액을 계산합니다.",
  "url": "https://socialtradingvlog.com/ko/계산기/포지션-크기/",
  "applicationCategory": "FinanceApplication",
  "operatingSystem": "Web",
  "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
  "author": { "@type": "Person", "name": "Tom", "url": "https://socialtradingvlog.com/about/" }
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {"@type": "Question", "name": "eToro에서 카피 트레이더당 얼마를 할당해야 합니까?", "acceptedAnswer": {"@type": "Answer", "text": "일반적인 접근 방식은 위험 허용 범위와 복사하는 거래자 수에 따라 거래자당 포트폴리오의 5-20%를 할당하는 것입니다. 보수적인 투자자는 일반적으로 각 배분을 10% 미만으로 유지하는 반면, 온건한 투자자는 최대 20%까지 올릴 수 있습니다. 마진 요구사항과 새로운 기회를 위해 항상 최소 5-20%의 현금 준비금을 유지하십시오."}},
    {"@type": "Question", "name": "eToro에서 트레이더를 복사할 수 있는 최소 금액은 얼마입니까?", "acceptedAnswer": {"@type": "Answer", "text": "eToro에서 트레이더를 복사할 수 있는 최소 금액은 $200입니다. 이는 복사하려는 트레이더당 최소 $200가 필요하다는 의미입니다. 귀하의 포트폴리오가 $1,000이고 5명의 거래자를 복사하려는 경우 현금 준비금 없이 최소 금액을 충족하기 위해 전체 금액이 필요합니다."}},
    {"@type": "Question", "name": "eToro에 몇 명의 거래자를 복사해야 합니까?", "acceptedAnswer": {"@type": "Answer", "text": "경험이 풍부한 대부분의 카피 트레이더는 좋은 다각화를 위해 5~15명의 트레이더 사이에서 카피를 할 것을 권장합니다. 5명 미만의 거래자를 복사하면 위험이 집중되는 반면, 15명 이상을 복사하면 수익이 희석되고 성과를 모니터링하기가 더 어려워질 수 있습니다. 이상적인 숫자는 포트폴리오 규모와 할당을 얼마나 적극적으로 관리하려는지에 따라 다릅니다."}},
    {"@type": "Question", "name": "카피 트레이딩 포트폴리오를 동일하게 분할해야 합니까, 아니면 다른 금액을 사용해야 합니까?", "acceptedAnswer": {"@type": "Answer", "text": "두 접근 방식 모두 장점이 있습니다. 균등 분할은 더 간단하며 균형 잡힌 다양화를 보장합니다. 위험 가중 배분을 사용하면 확신이 더 높은 거래자에게 더 많은 돈을 투자하거나 위험이 높은 거래자에게는 더 적은 돈을 투자할 수 있습니다. 많은 카피 트레이더는 동일한 분할로 시작하여 각 트레이더의 성과 및 위험 프로필을 기반으로 시간이 지남에 따라 조정합니다. |분할| 위험 관리 |분할| 모든 거래자에 걸쳐"}}
  ]
}
</script>
</head>
<body>

<!-- Nav -->
<nav class="tool-nav">
  <a href="../../../ko/" class="tool-nav-brand"><div class="logo">S</div><span>SocialTradingVlog</span></a>
  <div class="tool-nav-links">
    <a href="../수수료-계산기/">리턴 미터</a>
    <a href="../수익률-계산기/">리턴 미터</a>
    <a href="../플랫폼-비교/">플랫폼 비교</a>
    <a href="../포지션-크기/" class="active">이러한 도구는 정보 제공 및 교육 목적으로만 사용됩니다. 이는 재정적 조언을 구성하지 않습니다.
    XBRAND002X는 이러한 도구 사용으로 인해 발생하는 모든 손실에 대해 책임을 지지 않습니다. 귀하의 자본이 위험에 처해 있습니다. |분할| XBRAND019X의 년</a>
  </div>
  <a href="../../../ko/" class="tool-nav-back">6가지 자산 클래스 |분할| 복리 수익을 통해 1~10년 동안 투자가 어떻게 성장할 수 있는지 예측해 보세요. 시나리오를 나란히 비교하세요.</a>
</nav>

<div class="container">

  <!-- Hero -->
  <div class="hero">
    <div class="hero-badge"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg> 공격적 |분할| 다각화 |분할| 포지션 규모 조정이 중요한 이유</div>
    <h1>상인 |분할| 유연성 |분할| 일반적인 접근 방식은 위험 허용 범위와 복사하는 거래자 수에 따라 거래자당 포트폴리오의 5-20%를 할당하는 것입니다. 보수적인 투자자는 일반적으로 각 배분을 10% 미만으로 유지하는 반면, 온건한 투자자는 최대 20%까지 올릴 수 있습니다. 마진 요구사항과 새로운 기회를 위해 항상 최소 5-20%의 현금 준비금을 유지하십시오. |분할| XBRAND019X에서 트레이더를 복사할 수 있는 최소 금액은 $200입니다. 이는 복사하려는 트레이더당 최소 $200가 필요하다는 의미입니다. 귀하의 포트폴리오가 $1,000이고 5명의 거래자를 복사하려는 경우 현금 준비금 없이 최소 금액을 충족하기 위해 전체 금액이 필요합니다. 이 계산기를 사용하여 올바른 균형을 찾으세요. |분할| XBRAND019X에서 트레이더를 복사할 수 있는 최소 금액은 얼마입니까? |분할| 일반 안내만 <span class="accent">계산자</span></h1>
    <p>나는 8-12명의 거래자를 각각 5-15%로 복사하고 10%의 현금을 유지합니다. 이를 통해 트레이더당 eToro의 최소 $200를 편안하게 적용할 수 있을 만큼 충분히 유지하면서 전략 전반에 걸쳐 다양화할 수 있습니다.</p>
  </div>

  <!-- Calculator -->
  <div class="calc-card">

    <!-- Portfolio Size -->
    <div class="input-section">
      <div class="input-label">총 포트폴리오 규모</div>
      <div class="slider-row">
        <input type="range" class="slider-input" id="portfolio-slider" min="500" max="100000" step="100" value="5000" oninput="syncPortfolio(this.value)">
        <div style="display:flex;align-items:center;gap:4px">
          <span style="font-size:16px;font-weight:600;color:var(--text-secondary)">$</span>
          <input type="text" class="amount-input" id="portfolio-input" value="5,000" oninput="syncPortfolioFromInput(this.value)">
        </div>
      </div>
    </div>

    <!-- Number of Traders -->
    <div class="input-section">
      <div class="input-label">복사할 트레이더 수</div>
      <div class="slider-row">
        <input type="range" class="slider-input" id="traders-slider" min="1" max="20" step="1" value="5" oninput="syncTraders(this.value)">
        <div class="trader-count-display" id="traders-display">5</div>
      </div>
    </div>

    <!-- Risk Tolerance -->
    <div class="input-section">
      <div class="input-label">위험 허용</div>
      <div class="pill-group" id="risk-pills">
        <button class="pill-btn conservative" data-risk="conservative" onclick="setRisk('conservative',this)">보수적인</button>
        <button class="pill-btn active moderate" data-risk="moderate" onclick="setRisk('moderate',this)">보통의</button>
        <button class="pill-btn aggressive" data-risk="aggressive" onclick="setRisk('aggressive',this)">복사에 할당됨</button>
      </div>
    </div>

    <!-- Strategy -->
    <div class="input-section">
      <div class="input-label">할당 전략</div>
      <div class="pill-group" id="strategy-pills">
        <button class="pill-btn active" data-strategy="equal" onclick="setStrategy('equal',this)">균등 분할</button>
        <button class="pill-btn" data-strategy="weighted" onclick="setStrategy('weighted',this)">XBRAND019X에서 카피 트레이더를 선택하는 방법</button>
      </div>
    </div>

    <!-- Results -->
    <div class="results">
      <div class="results-hero">
        <div class="total-label">트레이더별 권장</div>
        <div class="total-value" id="total-value">$720</div>
        <div class="total-pct low" id="total-pct">포트폴리오의 14.4%</div>
      </div>

      <div class="breakdown-grid" id="breakdown-grid">
        <div class="breakdown-card bc-cash">
          <div class="bc-label">보통 |분할| 좋음 |분할| 복사할 최고의 거래자를 평가하고 선택하는 방법에 대한 완벽한 가이드입니다. |분할| 보수적 |분할| 계산기 |분할| 카피 트레이딩 포트폴리오를 동일하게 분할해야 합니까, 아니면 다른 금액을 사용해야 합니까? |분할| 할당 제안은 일반적인 다각화 원칙을 기반으로 하며 개인의 상황, 재무 목표 또는 위험 선호도에 맞지 않을 수 있습니다. |분할| 면책조항 |분할| 여러 카피 트레이더에게 자본을 분산시키면 단일 트레이더의 부실한 영향을 줄일 수 있습니다. 한 트레이더가 30% 손실을 입으면 적절한 규모의 포트폴리오에만 영향을 미칩니다. |분할| 현금을 비축해두면 발견한 새로운 거래자를 추가하고, 최고 성과자에 대한 할당을 늘리거나, 시장 하락세를 활용할 수 있습니다. 완전히 배포된 포트폴리오에는 적응할 여지가 없습니다. |분할| 이 계산기는 정보 제공의 목적으로만 사용되며 재정적인 조언을 제공하지 않습니다. 할당 제안은 일반적인 원칙을 기반으로 하며 귀하의 상황에 맞지 않을 수도 있습니다.
      XBRAND002X는 이 도구에 의존하여 발생하는 손실에 대해 책임을 지지 않습니다. XBRAND019X는 멀티자산 투자 플랫폼입니다. 투자 가치는 올라갈 수도 있고 내려갈 수도 있습니다. 귀하의 자본이 위험에 처해 있습니다.
      이 공급자와 XBRAND024X를 거래할 때 소매 투자자 계정의 51%가 돈을 잃습니다. |분할| XBRAND026X의 접근 방식:</div>
          <div class="bc-value" id="bc-cash">$500</div>
          <div class="bc-note" id="bc-cash-note">포트폴리오의 14.4%</div>
        </div>
        <div class="breakdown-card bc-per-trader">
          <div class="bc-label">복사에 할당됨</div>
          <div class="bc-value" id="bc-allocated">$4,500</div>
          <div class="bc-note">카피 트레이더의 과거 실적은 미래 결과를 나타내지 않습니다. 거래자를 모방하기 전에 항상 실사를 수행하십시오. |분할| XBRAND019X에서 카피 트레이딩을 시작하세요</div>
        </div>
        <div class="breakdown-card bc-traders">
          <div class="bc-label">상인</div>
          <div class="bc-value" id="bc-traders">5</div>
          <div class="bc-note" id="bc-traders-note">카피 트레이더</div>
        </div>
        <div class="breakdown-card bc-score">
          <div class="bc-label">XBRAND019X에서 카피 트레이더당 얼마를 할당해야 합니까? |분할| 경험이 풍부한 대부분의 카피 트레이더는 좋은 다각화를 위해 5~15명의 트레이더 사이에서 카피를 할 것을 권장합니다. 5명 미만의 거래자를 복사하면 위험이 집중되는 반면, 15명 이상을 복사하면 수익이 희석되고 성과를 모니터링하기가 더 어려워질 수 있습니다. 이상적인 숫자는 포트폴리오 규모와 할당을 얼마나 적극적으로 관리하려는지에 따라 다릅니다. |분할| 총 포트폴리오 규모</div>
          <div class="bc-value" id="bc-score">좋은</div>
          <div class="bc-note" id="bc-score-note">72 / 100</div>
        </div>
      </div>

      <!-- Warning card -->
      <div class="warning-card hidden" id="warning-card">
        <span class="warning-icon"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg></span>
        <span id="warning-text">일부 할당은 eToro의 사본 거래자당 최소 $200보다 낮습니다.</span>
      </div>

      <!-- Bar chart -->
      <div class="bar-chart-wrap">
        <div class="bar-chart-title">현금 준비금 |분할| 거래자별 추천</div>
        <div class="bar-chart" id="bar-chart"></div>
      </div>

      <!-- Diversification score meter -->
      <div class="score-meter">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <span style="font-size:13px;font-weight:700;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px">위험가중</span>
          <span style="font-size:14px;font-weight:700;color:var(--text-primary)" id="score-label">72 / 100</span>
        </div>
        <div class="score-meter-bar">
          <div class="score-meter-fill" id="score-fill" style="width:72%;background:var(--success)"></div>
        </div>
      </div>

      <!-- Tom's approach callout -->
      <div class="callout">
        <span class="callout-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--info)" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg></span>
        <span><strong>Tom의 접근 방식:</strong> 나는 8-12명의 거래자를 각각 5-15%로 복사하고 10%의 현금을 유지합니다. 이를 통해 트레이더당 eToro의 최소 $200를 편안하게 적용할 수 있을 만큼 충분히 유지하면서 전략 전반에 걸쳐 다양화할 수 있습니다.</span>
      </div>
    </div>

    <div class="legal-disclaimer" style="background:#F8F8FA;border:1px solid var(--border);border-radius:var(--radius);padding:20px 24px;margin:24px 0 0;font-size:12px;color:var(--text-secondary);line-height:1.8;">
      <strong style="color:var(--text-primary);font-size:13px;display:block;margin-bottom:6px;">부인 성명</strong>
      XBRAND019X에 숨겨진 수수료가 있습니까? |분할| 확산 |분할| 기타 수수료 <strong style="display:inline;font-size:inherit;">일반적인 안내만</strong> 정보 제공 및 교육 목적으로 사용됩니다. 재정적 결정을 내릴 때 이 정보에 의존해서는 안 됩니다.
      <ul style="margin:8px 0 0 18px;">
        <li>할당 제안은 일반적인 다각화 원칙을 기반으로 하며 개인의 상황, 재무 목표 또는 위험 선호도에 맞지 않을 수 있습니다.</li>
        <li>10% 따로 설정</li>
        <li>이 도구는 재정, 투자 또는 세금 관련 조언을 구성하지 않습니다. SocialTradingVlog와 그 저자는 금융 자문가가 아니며 이 계산기 사용으로 인해 발생하는 손실이나 손해에 대해 어떠한 책임도 지지 않습니다.</li>
        <li>eToro는 멀티자산 투자 플랫폼입니다. 투자 가치는 올라갈 수도 있고 내려갈 수도 있습니다. 귀하의 자본이 위험에 처해 있습니다.</li>
      </ul>
    </div>

  </div>

  <!-- Why Position Sizing Matters -->
  <div class="explainer">
    <h2>정보 제공 및 교육 목적으로 사용됩니다. 재정적 결정을 내릴 때 이 정보에 의존해서는 안 됩니다. |분할| 일부 할당은 XBRAND019X의 사본 거래자당 최소 $200보다 낮습니다.</h2>
    <div class="explainer-grid">
      <div class="explainer-card">
        <div class="ec-icon" style="background:rgba(43,179,255,.12);color:var(--chart-1)">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
        </div>
        <h3>XBRAND019X에서 카피 트레이더당 얼마를 할당해야 합니까? |분할| 경험이 풍부한 대부분의 카피 트레이더는 좋은 다각화를 위해 5~15명의 트레이더 사이에서 카피를 할 것을 권장합니다. 5명 미만의 거래자를 복사하면 위험이 집중되는 반면, 15명 이상을 복사하면 수익이 희석되고 성과를 모니터링하기가 더 어려워질 수 있습니다. 이상적인 숫자는 포트폴리오 규모와 할당을 얼마나 적극적으로 관리하려는지에 따라 다릅니다. |분할| 총 포트폴리오 규모</h3>
        <p>여러 카피 트레이더에게 자본을 분산시키면 단일 트레이더의 부실한 영향을 줄일 수 있습니다. 한 트레이더가 30% 손실을 입으면 적절한 규모의 포트폴리오에만 영향을 미칩니다.</p>
      </div>
      <div class="explainer-card">
        <div class="ec-icon" style="background:rgba(255,100,45,.12);color:var(--chart-3)">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
        </div>
        <h3>다각화 점수</h3>
        <p>거래자당 최대 할당 한도를 설정하면 과다 노출을 방지할 수 있습니다. 현금 준비금을 갖춘 보수적인 규모 조정은 일시적인 하락 중에 복사를 중단하지 않고도 손실을 견딜 수 있음을 의미합니다. |분할| 카피 트레이딩 도구</p>
      </div>
      <div class="explainer-card">
        <div class="ec-icon" style="background:rgba(139,92,246,.12);color:var(--purple)">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
        </div>
        <h3>유연성</h3>
        <p>현금을 비축해두면 발견한 새로운 거래자를 추가하고, 최고 성과자에 대한 할당을 늘리거나, 시장 하락세를 활용할 수 있습니다. 완전히 배포된 포트폴리오에는 적응할 여지가 없습니다.</p>
      </div>
    </div>
  </div>

  <!-- Guide link -->
  <div class="guide-link-section">
    <a href="../../copy-trading/how-to-choose-copy-traders/" class="guide-link-card">
      <div class="guide-link-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"/><path d="M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"/></svg>
      </div>
      <div class="guide-link-text">
        <h3>eToro에서 카피 트레이더를 선택하는 방법</h3>
        <p>복사할 최고의 거래자를 평가하고 선택하는 방법에 대한 완벽한 가이드입니다.</p>
      </div>
      <span class="guide-link-arrow">&rarr;</span>
    </a>
  </div>

  <!-- FAQ -->
  <div class="faq-section">
    <h2>자주 묻는 질문</h2>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">eToro에서 카피 트레이더당 얼마를 할당해야 합니까? <span class="chevron">&#9660;</span></div>
      <div class="faq-a"><p>일반적인 접근 방식은 위험 허용 범위와 복사하는 거래자 수에 따라 거래자당 포트폴리오의 5-20%를 할당하는 것입니다. 보수적인 투자자는 일반적으로 각 배분을 10% 미만으로 유지하는 반면, 온건한 투자자는 최대 20%까지 올릴 수 있습니다. 마진 요구사항과 새로운 기회를 위해 항상 최소 5-20%의 현금 준비금을 유지하십시오.</p></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">eToro에서 트레이더를 복사할 수 있는 최소 금액은 얼마입니까? <span class="chevron">&#9660;</span></div>
      <div class="faq-a"><p>eToro에서 트레이더를 복사할 수 있는 최소 금액은 $200입니다. 이는 복사하려는 트레이더당 최소 $200가 필요하다는 의미입니다. 귀하의 포트폴리오가 $1,000이고 5명의 거래자를 복사하려는 경우 현금 준비금 없이 최소 금액을 충족하기 위해 전체 금액이 필요합니다. 이 계산기를 사용하여 올바른 균형을 찾으세요.</p></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">eToro에 몇 명의 거래자를 복사해야 합니까? <span class="chevron">&#9660;</span></div>
      <div class="faq-a"><p>경험이 풍부한 대부분의 카피 트레이더는 좋은 다각화를 위해 5~15명의 트레이더 사이에서 카피를 할 것을 권장합니다. 5명 미만의 거래자를 복사하면 위험이 집중되는 반면, 15명 이상을 복사하면 수익이 희석되고 성과를 모니터링하기가 더 어려워질 수 있습니다. 이상적인 숫자는 포트폴리오 규모와 할당을 얼마나 적극적으로 관리하려는지에 따라 다릅니다.</p></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">카피 트레이딩 포트폴리오를 동일하게 분할해야 합니까, 아니면 다른 금액을 사용해야 합니까? <span class="chevron">&#9660;</span></div>
      <div class="faq-a"><p>두 접근 방식 모두 장점이 있습니다. 균등 분할은 더 간단하며 균형 잡힌 다양화를 보장합니다. 위험 가중 배분을 사용하면 확신이 더 높은 거래자에게 더 많은 돈을 투자하거나 위험이 높은 거래자에게는 더 적은 돈을 투자할 수 있습니다. 많은 카피 트레이더는 동일한 분할로 시작하여 각 트레이더의 성과 및 위험 프로필을 기반으로 시간이 지남에 따라 조정합니다. |분할| 위험 관리 |분할| 모든 거래자에 걸쳐</p></div>
    </div>
  </div>

  <!-- CTA -->
  <div class="cta-section">
    <h2>포지션 크기 |분할| eToro에서 거래자당 할당할 금액을 정확히 파악하세요. 포트폴리오 세부 정보를 입력하고 맞춤형 할당 계획을 받으세요. |분할| eToro에 몇 명의 거래자를 복사해야 합니까? |분할| 위험 허용 범위</h2>
    <p>실적이 좋은 트레이더를 자동으로 복사합니다. 트레이더당 $200의 작은 금액으로 시작하여 다양한 포트폴리오를 구축하세요. |분할| 할당 분석</p>
    <a href="https://etoro.tw/3BnSzFc" target="_blank" rel="noopener sponsored" class="cta-btn" onclick="gtag('event','cta_click',{event_category:'calculator',event_label:'position_size_ko'})">eToro 계정 개설 &rarr;</a>
    <div class="risk-text">
      <strong>카피 트레이딩 포트폴리오의 다양화, 위험 노출 및 예상 수익을 분석하세요. |분할| XBRAND026X에 대해 자세히 알아보십시오. |분할| 수수료 계산</strong>
      돈을 잃을 위험이 높다는 것을 감수할 여유가 있는지 고려해야 합니다.
      이것은 투자 조언이 아닙니다. 위험에 처한 자본. 제휴 링크 &mdash; Tom는 무료로 커미션을 받을 수 있습니다.
    </div>
  </div>

  <!-- Footer -->
  <div class="tool-footer">
    <p>
      <a href="../../">SocialTradingVlog.com</a> &middot;
      <a href="../">모든 도구</a> &middot;
      <a href="../../about/">실제 숫자, 실제 기대. 카피 트레이딩 수익은 어떻게 이루어지며 현실적으로 기대할 수 있는 것은 무엇인지 알아보세요. |분할| Tom의 9년만에 솔직한 후기&mdash; 카피 트레이딩, 수수료, 지원 및 적합한 대상에 대해 알아보세요. |분할| 도구 |분할| XBRAND019X 수수료 계산기</a>
    </p>
    <p style="margin-top:8px;max-width:600px;margin-left:auto;margin-right:auto;">
      이 계산기는 정보 제공의 목적으로만 사용되며 재정적인 조언을 제공하지 않습니다. 할당 제안은 일반적인 원칙을 기반으로 하며 귀하의 상황에 맞지 않을 수도 있습니다.
      SocialTradingVlog는 이 도구에 의존하여 발생하는 손실에 대해 책임을 지지 않습니다. eToro는 멀티자산 투자 플랫폼입니다. 투자 가치는 올라갈 수도 있고 내려갈 수도 있습니다. 귀하의 자본이 위험에 처해 있습니다.
      이 공급자와 CFDs를 거래할 때 소매 투자자 계정의 51%가 돈을 잃습니다.
    </p>
  </div>

</div>

<script>
// ─── Risk Profiles ───
const RISK_PROFILES = {
  conservative: { maxPerTrader: 0.10, cashReserve: 0.20, label: '보수적인' },
  moderate:     { maxPerTrader: 0.20, cashReserve: 0.10, label: '보통의' },
  aggressive:   { maxPerTrader: 0.40, cashReserve: 0.05, label: '복사에 할당됨' },
};

const ETORO_MIN_COPY = 200;

// Bar colors — cycle through the design system palette
const BAR_COLORS = [
  '#2BB3FF', '#59DDAA', '#FF642D', '#8B5CF6', '#FDC23C',
  '#009F81', '#008FF8', '#FF4953', '#2BB3FF', '#59DDAA',
  '#FF642D', '#8B5CF6', '#FDC23C', '#009F81', '#008FF8',
  '#FF4953', '#2BB3FF', '#59DDAA', '#FF642D', '#8B5CF6'
];

let state = { portfolio: 5000, traders: 5, risk: 'moderate', strategy: 'equal' };

function setRisk(r, el) {
  state.risk = r;
  document.querySelectorAll('#risk-pills .pill-btn').forEach(b => b.classList.remove('active'));
  el.classList.add('active');
  calculate();
}
function setStrategy(s, el) {
  state.strategy = s;
  document.querySelectorAll('#strategy-pills .pill-btn').forEach(b => b.classList.remove('active'));
  el.classList.add('active');
  calculate();
}
function syncPortfolio(val) {
  state.portfolio = parseInt(val) || 500;
  document.getElementById('portfolio-input').value = state.portfolio.toLocaleString();
  calculate();
}
function syncPortfolioFromInput(val) {
  const n = parseInt(val.replace(/[^0-9]/g, '')) || 500;
  state.portfolio = Math.min(Math.max(n, 500), 100000);
  document.getElementById('portfolio-slider').value = state.portfolio;
  calculate();
}
function syncTraders(val) {
  state.traders = parseInt(val) || 1;
  document.getElementById('traders-display').textContent = state.traders;
  calculate();
}

function fmt(n) {
  if (n >= 1) return '$' + Math.round(n).toLocaleString();
  return '$0';
}

function getAllocations() {
  const profile = RISK_PROFILES[state.risk];
  const cashAmount = Math.round(state.portfolio * profile.cashReserve);
  const investable = state.portfolio - cashAmount;

  let allocations = [];

  if (state.strategy === 'equal') {
    const perTrader = Math.round(investable / state.traders);
    for (let i = 0; i < state.traders; i++) {
      allocations.push(perTrader);
    }
  } else {
    // Risk-weighted: descending curve — first traders get more, last get less
    // Uses a simple linear weighting: weight_i = (N - i + 1)
    let weights = [];
    for (let i = 0; i < state.traders; i++) {
      weights.push(state.traders - i);
    }
    const totalWeight = weights.reduce((a, b) => a + b, 0);

    for (let i = 0; i < state.traders; i++) {
      let amount = Math.round(investable * (weights[i] / totalWeight));
      // Cap at max per trader
      const maxAllowed = Math.round(state.portfolio * profile.maxPerTrader);
      amount = Math.min(amount, maxAllowed);
      allocations.push(amount);
    }

    // Redistribute any excess from capping
    const allocated = allocations.reduce((a, b) => a + b, 0);
    const remainder = investable - allocated;
    if (remainder > 0) {
      // Spread remainder among traders that haven't hit the cap
      const maxAllowed = Math.round(state.portfolio * profile.maxPerTrader);
      for (let i = 0; i < state.traders && remainder > 0; i++) {
        if (allocations[i] < maxAllowed) {
          const add = Math.min(Math.round(remainder / state.traders), maxAllowed - allocations[i]);
          allocations[i] += add;
        }
      }
    }
  }

  // Enforce max per trader cap
  const maxAllowed = Math.round(state.portfolio * profile.maxPerTrader);
  allocations = allocations.map(a => Math.min(a, maxAllowed));

  return { allocations, cashAmount, investable };
}

function getDiversificationScore() {
  const profile = RISK_PROFILES[state.risk];
  const { allocations, cashAmount } = getAllocations();

  let score = 0;

  // Number of traders component (0-40 points)
  // Optimal is 8-12 traders
  if (state.traders >= 8 && state.traders <= 12) {
    score += 40;
  } else if (state.traders >= 5 && state.traders <= 15) {
    score += 30;
  } else if (state.traders >= 3) {
    score += 15;
  } else {
    score += 5;
  }

  // Allocation spread component (0-30 points)
  // Measure how evenly distributed (lower coefficient of variation = better)
  if (allocations.length > 1) {
    const mean = allocations.reduce((a, b) => a + b, 0) / allocations.length;
    const variance = allocations.reduce((a, b) => a + Math.pow(b - mean, 2), 0) / allocations.length;
    const cv = Math.sqrt(variance) / (mean || 1);
    // cv of 0 = perfectly equal = 30 pts, cv of 1+ = 0 pts
    score += Math.round(Math.max(0, 30 * (1 - cv)));
  } else {
    score += 0;
  }

  // Meets minimum threshold (0-15 points)
  const belowMin = allocations.filter(a => a < ETORO_MIN_COPY).length;
  if (belowMin === 0) {
    score += 15;
  } else {
    score += Math.max(0, 15 - belowMin * 5);
  }

  // Cash reserve component (0-15 points)
  const cashPct = cashAmount / state.portfolio;
  if (cashPct >= 0.05 && cashPct <= 0.25) {
    score += 15;
  } else if (cashPct > 0) {
    score += 8;
  }

  return Math.min(100, Math.max(0, score));
}

function getScoreLabel(score) {
  if (score >= 80) return '훌륭한';
  if (score >= 60) return '좋은';
  if (score >= 40) return '공정한';
  return '낮은';
}

function getScoreColor(score) {
  if (score >= 80) return 'var(--success)';
  if (score >= 60) return 'var(--chart-1)';
  if (score >= 40) return 'var(--warning)';
  return 'var(--critical)';
}

function calculate() {
  const profile = RISK_PROFILES[state.risk];
  const { allocations, cashAmount, investable } = getAllocations();
  const perTrader = allocations.length > 0 ? allocations[0] : 0; // Hero shows first (or equal) allocation
  const avgPerTrader = allocations.length > 0 ? Math.round(allocations.reduce((a, b) => a + b, 0) / allocations.length) : 0;
  const pctPerTrader = ((avgPerTrader / state.portfolio) * 100).toFixed(1);

  // Hero number — show average for equal split, range for weighted
  const heroValue = state.strategy === 'equal' ? fmt(perTrader) : fmt(avgPerTrader);
  document.getElementById('total-value').textContent = heroValue;

  const pctEl = document.getElementById('total-pct');
  if (state.strategy === 'equal') {
    pctEl.textContent = pctPerTrader + '각각 포트폴리오의 %';
  } else {
    const minAlloc = Math.min(...allocations);
    const maxAlloc = Math.max(...allocations);
    pctEl.textContent = fmt(minAlloc) + ' - ' + fmt(maxAlloc) + ' 범위';
  }
  pctEl.className = 'total-pct ' + (parseFloat(pctPerTrader) <= 10 ? 'low' : parseFloat(pctPerTrader) <= 25 ? 'medium' : 'high');

  // Breakdown cards
  document.getElementById('bc-cash').textContent = fmt(cashAmount);
  document.getElementById('bc-cash-note').textContent = Math.round(profile.cashReserve * 100) + '% 따로 보관';
  document.getElementById('bc-allocated').textContent = fmt(investable);
  document.getElementById('bc-traders').textContent = state.traders;
  document.getElementById('bc-traders-note').textContent = state.traders === 1 ? '카피 트레이더' : '카피 트레이더';

  // Diversification score
  const score = getDiversificationScore();
  const scoreLabel = getScoreLabel(score);
  const scoreColor = getScoreColor(score);
  document.getElementById('bc-score').textContent = scoreLabel;
  document.getElementById('bc-score-note').textContent = score + ' / 100';
  document.getElementById('score-label').textContent = score + ' / 100';
  const scoreFill = document.getElementById('score-fill');
  scoreFill.style.width = score + '%';
  scoreFill.style.background = scoreColor;

  // Warning card
  const belowMin = allocations.filter(a => a < ETORO_MIN_COPY).length;
  const warningCard = document.getElementById('warning-card');
  const warningText = document.getElementById('warning-text');
  if (belowMin > 0) {
    warningCard.classList.remove('hidden');
    if (belowMin === state.traders) {
      warningText.textContent = 'All ' + state.traders + ' allocations (' + fmt(allocations[0]) + ' each) are below eToro\'s $200 복사 거래자 당 최소. 더 큰 포트폴리오 또는 더 적은 거래자가 필요합니다.';
    } else {
      warningText.textContent = belowMin + ' of ' + state.traders + ' 할당량은 아래와 같습니다 eToro\'s $200 복사 거래자 당 최소. 트레이더 수를 줄이거나 포트폴리오 규모를 늘리는 것을 고려해보세요.';
    }
  } else {
    warningCard.classList.add('hidden');
  }

  // Bar chart
  const barChart = document.getElementById('bar-chart');
  const maxAllocation = Math.max(...allocations, cashAmount);
  let barsHTML = '';

  for (let i = 0; i < allocations.length; i++) {
    const pct = maxAllocation > 0 ? (allocations[i] / maxAllocation * 100) : 0;
    const belowMinClass = allocations[i] < ETORO_MIN_COPY ? ' style="opacity:.5"' : '';
    barsHTML += `
      <div class="bar-row"${belowMinClass}>
        <span class="bar-label">Trader ${i + 1}</span>
        <div class="bar-track">
          <div class="bar-fill" style="width:${Math.max(pct, 2)}%;background:${BAR_COLORS[i % BAR_COLORS.length]}">${allocations[i] >= maxAllocation * 0.15 ? fmt(allocations[i]) : ''}</div>
        </div>
        <span class="bar-amount">${fmt(allocations[i])}</span>
      </div>`;
  }

  // Cash reserve bar
  const cashPct = maxAllocation > 0 ? (cashAmount / maxAllocation * 100) : 0;
  barsHTML += `
    <div class="bar-row bar-cash">
      <span class="bar-label">Cash</span>
      <div class="bar-track">
        <div class="bar-fill" style="width:${Math.max(cashPct, 2)}%;background:#8A8E9B">${cashAmount >= maxAllocation * 0.15 ? fmt(cashAmount) : ''}</div>
      </div>
      <span class="bar-amount">${fmt(cashAmount)}</span>
    </div>`;

  barChart.innerHTML = barsHTML;
}

function toggleFaq(el) {
  el.classList.toggle('open');
  el.nextElementSibling.classList.toggle('open');
}

// Initial calculation
calculate();
</script>
</body>
</html>
